(this.webpackJsonpdestiny=this.webpackJsonpdestiny||[]).push([[36],{1088:function(t,e,a){"use strict";a.r(e);var r,n=a(21),i=a(22),c=a(24),o=a(23),l=a(0),s=a.n(l),u=a(755),p=a(756),h=a(1209),b=a(669),f=a(151),g=a(1089),m=a.n(g),d=a(145),v=a(359),j=a(27),y=Object(j.b)((function(t){return{pic:t.getIn(["avatar","pic"])}}))(r=Object(d.a)(r=function(t){Object(c.a)(a,t);var e=Object(o.a)(a);function a(){var t;Object(n.a)(this,a);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))).state={editorState:m.a.createEditorState(null)},t.goBack=function(){t.props.history.push("/destiny/linkman"),v.a.resetArticleList(),t.setState({editorState:null})},t.handleChangeText=function(e){console.log(e.toHTML());var a=e.toHTML();t.setState({editorState:a}),v.a.changeContent(a)},t.handleChangeTitle=function(t){console.log(t.target.value);var e=t.target.value;v.a.changeTitle(e)},t.handleSubmit=function(){console.log(v.a.articleList),v.a.submitArticle({url:"/react/upArticle",data:v.a.articleList}),t.goBack()},t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var t=sessionStorage.mobile;v.a.changeAdmin(t);var e=this.props.pic;v.a.changeAvatar(e)}},{key:"render",value:function(){var t=this.state.editorState,e=v.a.articleList;return s.a.createElement("div",null,s.a.createElement(u.a,{gutter:24},s.a.createElement(p.a,{span:24},s.a.createElement(h.a,{title:"\u53d1\u8868\u5e16\u5b50",extra:s.a.createElement("span",{onClick:this.goBack,style:{color:"#0099cc"}},"\u8fd4\u56de")},s.a.createElement(u.a,{gutter:12},s.a.createElement(p.a,{span:12},s.a.createElement(b.a,{value:e.title,addonBefore:"\u6807\u9898\uff1a",placeholder:"\u8bf7\u8f93\u5165\u6807\u9898",onChange:this.handleChangeTitle}))),s.a.createElement(u.a,{gutter:24,style:{marginTop:10}},s.a.createElement(p.a,{span:24},s.a.createElement(m.a,{value:t,controls:["undo","redo","separator","font-size","line-height","letter-spacing","separator","text-color","bold","italic","underline","strike-through","separator","superscript","subscript","remove-styles","emoji","separator","text-indent","text-align","separator","headings","list-ul","list-ol","blockquote","code","separator","link","separator","hr","separator","media","separator","clear"],onChange:this.handleChangeText}))),s.a.createElement(u.a,{gutter:24,style:{marginTop:10}},s.a.createElement(p.a,{span:24},s.a.createElement("div",{style:{display:"flex",flexDirection:"row-reverse"}},s.a.createElement(f.a,{type:"danger",onClick:this.goBack},"\u53d6\u6d88"),s.a.createElement(f.a,{type:"primary",onClick:this.handleSubmit,style:{marginRight:10}},"\u786e\u5b9a"))))))))}}]),a}(l.Component))||r)||r;e.default=y},359:function(t,e,a){"use strict";var r,n,i,c,o,l,s,u,p,h,b,f,g=a(248),m=a.n(g),d=a(249),v=a(286),j=a(21),y=a(287),O=(a(288),a(229)),w=a(139);function A(t){var e=new Date(t),a=e.getFullYear(),r=e.getMonth()+1;r=r<10?"0"+r:r;var n=e.getDate();return n=n<10?"0"+n:n,"".concat(a,"-").concat(r,"-").concat(n)}var L=(r=function t(){Object(j.a)(this,t),Object(v.a)(this,"articleList",n,this),Object(v.a)(this,"mineArt",i,this),Object(v.a)(this,"artList",c,this),Object(v.a)(this,"getArtList",o,this),Object(v.a)(this,"getMineArt",l,this),Object(v.a)(this,"changeAdmin",s,this),Object(v.a)(this,"changeAvatar",u,this),Object(v.a)(this,"changeTitle",p,this),Object(v.a)(this,"changeContent",h,this),Object(v.a)(this,"submitArticle",b,this),Object(v.a)(this,"resetArticleList",f,this)},n=Object(y.a)(r.prototype,"articleList",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),i=Object(y.a)(r.prototype,"mineArt",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=Object(y.a)(r.prototype,"artList",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=Object(y.a)(r.prototype,"getArtList",[O.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(){var e=Object(d.a)(m.a.mark((function e(a){var r,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.url,e.next=3,w.a.post(r);case 3:(n=e.sent).data.result.map((function(t,e){return t.time=A(t.time),t})),t.artList=n.data.result;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),l=Object(y.a)(r.prototype,"getMineArt",[O.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(){var e=Object(d.a)(m.a.mark((function e(a){var r,n,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.url,n=a.data,e.next=3,w.a.post(r,n);case 3:(i=e.sent).data.result.map((function(t,e){return t.time=A(t.time),t})),t.mineArt=i.data.result;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),s=Object(y.a)(r.prototype,"changeAdmin",[O.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(e){t.articleList.admin=e}}}),u=Object(y.a)(r.prototype,"changeAvatar",[O.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(e){t.articleList.avatar=e}}}),p=Object(y.a)(r.prototype,"changeTitle",[O.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(e){t.articleList.title=e}}}),h=Object(y.a)(r.prototype,"changeContent",[O.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(e){t.articleList.content=e}}}),b=Object(y.a)(r.prototype,"submitArticle",[O.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var t=Object(d.a)(m.a.mark((function t(e){var a,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.url,r=e.data,t.next=3,w.a.post(a,r);case 3:t.sent;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),f=Object(y.a)(r.prototype,"resetArticleList",[O.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(){t.articleList={}}}}),r);e.a=new L}}]);
//# sourceMappingURL=36.104eaa25.chunk.js.map